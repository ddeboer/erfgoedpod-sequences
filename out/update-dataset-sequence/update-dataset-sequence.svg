<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1884px" preserveAspectRatio="none" style="width:2292px;height:1884px;" version="1.1" viewBox="0 0 2292 1884" width="2292px" zoomAndPan="magnify"><defs><filter height="300%" id="fax7y7tmpwcti" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="301" x="992.25" y="29.4023">Updating a dataset in the Registry.</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="84" x2="84" y1="123.6875" y2="1799.7363"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="295.5" x2="295.5" y1="123.6875" y2="1799.7363"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="512" x2="512" y1="123.6875" y2="1799.7363"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="876" x2="876" y1="123.6875" y2="1799.7363"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1434" x2="1434" y1="123.6875" y2="1799.7363"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1817" x2="1817" y1="123.6875" y2="1799.7363"/><rect fill="#FEFECE" filter="url(#fax7y7tmpwcti)" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="155" x="5" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="44.5" y="92.2461">Collections</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="12" y="108.7344">Management System</text><rect fill="#FEFECE" filter="url(#fax7y7tmpwcti)" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="155" x="5" y="1798.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="44.5" y="1819.2715">Collections</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="12" y="1835.7598">Management System</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="255.5" y="120.7344">maintainer</text><ellipse cx="295.5" cy="50.1992" fill="#FEFECE" filter="url(#fax7y7tmpwcti)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M295.5,58.1992 L295.5,85.1992 M282.5,66.1992 L308.5,66.1992 M295.5,85.1992 L282.5,100.1992 M295.5,85.1992 L308.5,100.1992 " fill="none" filter="url(#fax7y7tmpwcti)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="255.5" y="1812.2715">maintainer</text><ellipse cx="295.5" cy="1825.2246" fill="#FEFECE" filter="url(#fax7y7tmpwcti)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M295.5,1833.2246 L295.5,1860.2246 M282.5,1841.2246 L308.5,1841.2246 M295.5,1860.2246 L282.5,1875.2246 M295.5,1860.2246 L308.5,1875.2246 " fill="none" filter="url(#fax7y7tmpwcti)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fax7y7tmpwcti)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="89" x="466" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="473" y="108.7344">Dashboard</text><rect fill="#FEFECE" filter="url(#fax7y7tmpwcti)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="89" x="466" y="1798.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="473" y="1819.2715">Dashboard</text><rect fill="#FEFECE" filter="url(#fax7y7tmpwcti)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="79" x="835" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="842" y="108.7344">pod.kb.nl</text><rect fill="#FEFECE" filter="url(#fax7y7tmpwcti)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="79" x="835" y="1798.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="842" y="1819.2715">pod.kb.nl</text><rect fill="#FEFECE" filter="url(#fax7y7tmpwcti)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="137" x="1364" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="1371" y="108.7344">orchestrator.kb.nl</text><rect fill="#FEFECE" filter="url(#fax7y7tmpwcti)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="137" x="1364" y="1798.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="1371" y="1819.2715">orchestrator.kb.nl</text><rect fill="#FEFECE" filter="url(#fax7y7tmpwcti)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="113" x="1759" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1766" y="108.7344">registry.nde.nl</text><rect fill="#FEFECE" filter="url(#fax7y7tmpwcti)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="113" x="1759" y="1798.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1766" y="1819.2715">registry.nde.nl</text><polygon fill="#0000FF" points="95.5,150.998,85.5,154.998,95.5,158.998,91.5,154.998" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="89.5" x2="294.5" y1="154.998" y2="154.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="101.5" y="150.2559">Export new version of dataset</text><line style="stroke:#0000FF;stroke-width:1.0;" x1="84.5" x2="126.5" y1="184.3086" y2="184.3086"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="126.5" x2="126.5" y1="184.3086" y2="197.3086"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="85.5" x2="126.5" y1="197.3086" y2="197.3086"/><polygon fill="#0000FF" points="95.5,193.3086,85.5,197.3086,95.5,201.3086,91.5,197.3086" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="91.5" y="179.5664">Modify 'dataset.ttl'</text><rect fill="#EEEEEE" filter="url(#fax7y7tmpwcti)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2285.5" x="0" y="225.9639"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2285.5" y1="225.9639" y2="225.9639"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2285.5" y1="228.9639" y2="228.9639"/><rect fill="#EEEEEE" filter="url(#fax7y7tmpwcti)" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="278" x="1003.75" y="215.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="260" x="1009.75" y="231.877">Update dataset and description in pod</text><polygon fill="#0000FF" points="500.5,265.9297,510.5,269.9297,500.5,273.9297,504.5,269.9297" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="295.5" x2="506.5" y1="269.9297" y2="269.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="302.5" y="265.1875">Revise 'dataset-description.ttl'</text><line style="stroke:#A80036;stroke-width:1.0;" x1="512.5" x2="554.5" y1="299.2402" y2="299.2402"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554.5" x2="554.5" y1="299.2402" y2="312.2402"/><line style="stroke:#A80036;stroke-width:1.0;" x1="513.5" x2="554.5" y1="312.2402" y2="312.2402"/><polygon fill="#A80036" points="523.5,308.2402,513.5,312.2402,523.5,316.2402,519.5,312.2402" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="519.5" y="294.498">Modify 'dataset-description.ttl' for 'dataset.ttl'</text><polygon fill="#A80036" points="864.5,368.1719,874.5,372.1719,864.5,376.1719,868.5,372.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="512.5" x2="870.5" y1="372.1719" y2="372.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="519.5" y="352.1191">(R1)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="551.5" y="336.8086">PATCH /dataset.ttl</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="551.5" y="352.1191">Content-Type: text/ldpatch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="551.5" y="367.4297">{ changes dataset.ttl }</text><polygon fill="#A80036" points="523.5,412.793,513.5,416.793,523.5,420.793,519.5,416.793" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="517.5" x2="875.5" y1="416.793" y2="416.793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="529.5" y="404.3955">(R2)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="561.5" y="396.7402">401 Unauthorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="561.5" y="412.0508">WWW-Authenticate: Basic realm="Access to Pod"</text><polygon fill="#0000FF" points="306.5,442.1035,296.5,446.1035,306.5,450.1035,302.5,446.1035" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="500.5,442.1035,510.5,446.1035,500.5,450.1035,504.5,446.1035" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="300.5" x2="506.5" y1="446.1035" y2="446.1035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="312.5" y="441.3613">Ask credentials</text><polygon fill="#A80036" points="864.5,517.3457,874.5,521.3457,864.5,525.3457,868.5,521.3457" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="512.5" x2="870.5" y1="521.3457" y2="521.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="519.5" y="470.6719">PATCH /dataset.ttl</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="519.5" y="485.9824">Content-Type: text/ldpatch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="519.5" y="501.293">Authorization: &lt;credentials&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="519.5" y="516.6035">{ changes dataset.ttl }</text><polygon fill="#A80036" points="523.5,561.9668,513.5,565.9668,523.5,569.9668,519.5,565.9668" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="517.5" x2="875.5" y1="565.9668" y2="565.9668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="529.5" y="545.9141">204 No Content</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="533.5" y="561.2246">Content-Location: pod.kb.nl/dataset.ttl</text><polygon fill="#A80036" points="864.5,637.209,874.5,641.209,864.5,645.209,868.5,641.209" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="512.5" x2="870.5" y1="641.209" y2="641.209"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="519.5" y="590.5352">PATCH /eventlog</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="519.5" y="605.8457">Content-Type: text/ldpatch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="519.5" y="621.1563">Authorization: &lt;credentials&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="519.5" y="636.4668">{ [timestamp] updated pod.kb.nl/dataset.ttl }</text><polygon fill="#A80036" points="523.5,666.5195,513.5,670.5195,523.5,674.5195,519.5,670.5195" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="517.5" x2="875.5" y1="670.5195" y2="670.5195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="529.5" y="665.7773">200 OK</text><polygon fill="#A80036" points="864.5,741.7617,874.5,745.7617,864.5,749.7617,868.5,745.7617" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="512.5" x2="870.5" y1="745.7617" y2="745.7617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="519.5" y="695.0879">PATCH /dataset-desc.ttl</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="519.5" y="710.3984">Content-Type: text/turtle</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="519.5" y="725.709">Authorization: &lt;credentials&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="519.5" y="741.0195">{ changes dataset-description.ttl }</text><polygon fill="#A80036" points="523.5,786.3828,513.5,790.3828,523.5,794.3828,519.5,790.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="517.5" x2="875.5" y1="790.3828" y2="790.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="529.5" y="770.3301">204 No Content</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="533.5" y="785.6406">Content-Location: pod.kb.nl/dataset-desc.ttl</text><polygon fill="#A80036" points="864.5,861.625,874.5,865.625,864.5,869.625,868.5,865.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="512.5" x2="870.5" y1="865.625" y2="865.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="519.5" y="814.9512">PATCH /eventlog</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="519.5" y="830.2617">Content-Type: text/ldpatch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="519.5" y="845.5723">Authorization: &lt;credentials&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="519.5" y="860.8828">{ [timestamp] updated pod.kb.nl/dataset-desc.ttl }</text><polygon fill="#A80036" points="523.5,906.2461,513.5,910.2461,523.5,914.2461,519.5,910.2461" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="517.5" x2="875.5" y1="910.2461" y2="910.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="529.5" y="890.1934">204 No Content</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="533.5" y="905.5039">Content-Location: pod.kb.nl/eventlog</text><rect fill="#EEEEEE" filter="url(#fax7y7tmpwcti)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2285.5" x="0" y="938.9014"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2285.5" y1="938.9014" y2="938.9014"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2285.5" y1="941.9014" y2="941.9014"/><rect fill="#EEEEEE" filter="url(#fax7y7tmpwcti)" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="268" x="1008.75" y="928.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="250" x="1014.75" y="944.8145">Inform orchestrator to execute policy</text><polygon fill="#A80036" points="1422.5,1009.4883,1432.5,1013.4883,1422.5,1017.4883,1426.5,1013.4883" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="512.5" x2="1428.5" y1="1013.4883" y2="1013.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="519.5" y="978.125">POST /inbox</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="519.5" y="993.4355">{ LDN Dataset Updated "pod.kb.nl/dataset.ttl"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="519.5" y="1008.7461">with description 'pod.kb.nl/dataset-desc.ttl' }</text><polygon fill="#A80036" points="523.5,1054.1094,513.5,1058.1094,523.5,1062.1094,519.5,1058.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="517.5" x2="1433.5" y1="1058.1094" y2="1058.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="529.5" y="1038.0566">201 Created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="529.5" y="1053.3672">Location: orchestrator.kb.nl/inbox/3</text><line style="stroke:#0000FF;stroke-width:1.0;" x1="1434.5" x2="1476.5" y1="1087.4199" y2="1087.4199"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="1476.5" x2="1476.5" y1="1087.4199" y2="1100.4199"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="1435.5" x2="1476.5" y1="1100.4199" y2="1100.4199"/><polygon fill="#0000FF" points="1445.5,1096.4199,1435.5,1100.4199,1445.5,1104.4199,1441.5,1100.4199" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="1441.5" y="1082.6777">Retrieve actions for 'Dataset Updated' event</text><polygon fill="#A80036" points="1805.5,1156.3516,1815.5,1160.3516,1805.5,1164.3516,1809.5,1160.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1434.5" x2="1811.5" y1="1160.3516" y2="1160.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1441.5" y="1140.2988">(R3)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="1473.5" y="1124.9883">POST /inbox</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="1473.5" y="1140.2988">{ LDN Update "pod.kb.nl/dataset.ttl"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="1473.5" y="1155.6094">with description 'pod.kb.nl/dataset-desc.ttl' }</text><polygon fill="#A80036" points="1445.5,1200.9727,1435.5,1204.9727,1445.5,1208.9727,1441.5,1204.9727" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1439.5" x2="1816.5" y1="1204.9727" y2="1204.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1451.5" y="1192.5752">(R4)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="1483.5" y="1184.9199">201 Created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="1483.5" y="1200.2305">Location: registry.nde.nl/inbox/1</text><polygon fill="#A80036" points="887.5,1276.2148,877.5,1280.2148,887.5,1284.2148,883.5,1280.2148" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="881.5" x2="1433.5" y1="1280.2148" y2="1280.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="893.5" y="1252.5068">(R5)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="925.5" y="1229.541">PATCH /eventlog</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="925.5" y="1244.8516">Content-Type: text/ldpatch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="925.5" y="1260.1621">Authorization: &lt;credentials&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="502" x="925.5" y="1275.4727">{ [timestamp] Requested registration: pod.kb.nl/dataset.ttl with registry.nde.nl }</text><polygon fill="#A80036" points="1422.5,1320.8359,1432.5,1324.8359,1422.5,1328.8359,1426.5,1324.8359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="876.5" x2="1428.5" y1="1324.8359" y2="1324.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="883.5" y="1312.4385">(R6)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="915.5" y="1304.7832">204 No Content</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="919.5" y="1320.0938">Content-Location: pod.kb.nl/eventlog</text><polygon fill="#A80036" points="887.5,1350.1465,877.5,1354.1465,887.5,1358.1465,883.5,1354.1465" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="881.5" x2="1816.5" y1="1354.1465" y2="1354.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="893.5" y="1349.4043">(R7)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="925.5" y="1349.4043">GET /dataset-desc.ttl</text><polygon fill="#A80036" points="1805.5,1394.7676,1815.5,1398.7676,1805.5,1402.7676,1809.5,1398.7676" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="876.5" x2="1811.5" y1="1398.7676" y2="1398.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="883.5" y="1386.3701">(R8)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="915.5" y="1378.7148">401 Unauthorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="915.5" y="1394.0254">WWW-Authenticate: Basic realm="Access to Pod"</text><polygon fill="#A80036" points="887.5,1439.3887,877.5,1443.3887,887.5,1447.3887,883.5,1443.3887" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="881.5" x2="1816.5" y1="1443.3887" y2="1443.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="893.5" y="1430.9912">(R9)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="925.5" y="1423.3359">GET /dataset-desc.ttl</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="925.5" y="1438.6465">Authorization: &lt;registry_credentials&gt;</text><polygon fill="#A80036" points="1805.5,1468.6992,1815.5,1472.6992,1805.5,1476.6992,1809.5,1472.6992" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="876.5" x2="1811.5" y1="1472.6992" y2="1472.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37" x="883.5" y="1467.957">(R10)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="924.5" y="1467.957">200 OK</text><line style="stroke:#0000FF;stroke-width:1.0;" x1="1817.5" x2="1859.5" y1="1502.0098" y2="1502.0098"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="1859.5" x2="1859.5" y1="1502.0098" y2="1515.0098"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="1818.5" x2="1859.5" y1="1515.0098" y2="1515.0098"/><polygon fill="#0000FF" points="1828.5,1511.0098,1818.5,1515.0098,1828.5,1519.0098,1824.5,1515.0098" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1824.5" y="1497.2676">Re-index 'dataset-desc.ttl'</text><polygon fill="#A80036" points="1445.5,1555.6309,1435.5,1559.6309,1445.5,1563.6309,1441.5,1559.6309" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1439.5" x2="1816.5" y1="1559.6309" y2="1559.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37" x="1451.5" y="1547.2334">(R11)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="1492.5" y="1539.5781">POST /inbox</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="1492.5" y="1554.8887">{ LDN Updated registry for "pod.kb.nl/dataset.ttl" }</text><polygon fill="#A80036" points="1805.5,1600.252,1815.5,1604.252,1805.5,1608.252,1809.5,1604.252" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1434.5" x2="1811.5" y1="1604.252" y2="1604.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37" x="1441.5" y="1591.8545">(R12)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="1482.5" y="1584.1992">201 Created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="1482.5" y="1599.5098">Location: orchestrator.kb.nl/inbox/4</text><line style="stroke:#0000FF;stroke-width:1.0;" x1="1817.5" x2="1859.5" y1="1648.873" y2="1648.873"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="1859.5" x2="1859.5" y1="1648.873" y2="1661.873"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="1818.5" x2="1859.5" y1="1661.873" y2="1661.873"/><polygon fill="#0000FF" points="1828.5,1657.873,1818.5,1661.873,1828.5,1665.873,1824.5,1661.873" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="1824.5" y="1628.8203">Append eventlog:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="454" x="1824.5" y="1644.1309">[timestamp] registry.nde.nl updated registration of pod.kb.nl/dataset.ttl</text><polygon fill="#A80036" points="887.5,1733.1152,877.5,1737.1152,887.5,1741.1152,883.5,1737.1152" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="881.5" x2="1433.5" y1="1737.1152" y2="1737.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37" x="893.5" y="1709.4072">(R13)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="934.5" y="1686.4414">PATCH /eventlog</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="934.5" y="1701.752">Content-Type: text/ldpatch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="934.5" y="1717.0625">Authorization: &lt;credentials&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="470" x="934.5" y="1732.373">{ [timestamp] registry.nde.nl updated registration of pod.kb.nl/dataset.ttl }</text><polygon fill="#A80036" points="1422.5,1777.7363,1432.5,1781.7363,1422.5,1785.7363,1426.5,1781.7363" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="876.5" x2="1428.5" y1="1781.7363" y2="1781.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37" x="883.5" y="1769.3389">(R14)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="924.5" y="1761.6836">204 No Content</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="928.5" y="1776.9941">Content-Location: pod.kb.nl/eventlog</text><!--MD5=[16fbd4d3402e35153a34fa749bba579c]
@startuml

title
 Updating a dataset in the Registry.
end title


autonumber "<b>(R0)"
participant "Collections\nManagement System" as CMS
actor maintainer as Maintainer 
participant Dashboard as D
participant pod.kb.nl as Pod
participant orchestrator.kb.nl as O
participant registry.nde.nl as R

autonumber stop
Maintainer -[#0000FF]> CMS: Export new version of dataset
CMS -[#0000FF]> CMS: Modify 'dataset.ttl'

== Update dataset and description in pod ==

Maintainer -[#0000FF]> D: Revise 'dataset-description.ttl'
D -> D: Modify 'dataset-description.ttl' for 'dataset.ttl'

autonumber resume
D -> Pod : PATCH /dataset.ttl\nContent-Type: text/ldpatch\n{ changes dataset.ttl }
D <- - Pod : 401 Unauthorized\nWWW-Authenticate: Basic realm="Access to Pod"

autonumber stop
D <-[#0000FF]> Maintainer : Ask credentials

D -> Pod : PATCH /dataset.ttl\nContent-Type: text/ldpatch\nAuthorization: <credentials>\n{ changes dataset.ttl }
D <- - Pod : 204 No Content\n Content-Location: pod.kb.nl/dataset.ttl

D -> Pod : PATCH /eventlog\nContent-Type: text/ldpatch\nAuthorization: <credentials>\n{ [timestamp] updated pod.kb.nl/dataset.ttl }
D <- - Pod : 200 OK

D -> Pod : PATCH /dataset-desc.ttl\nContent-Type: text/turtle\nAuthorization: <credentials>\n{ changes dataset-description.ttl }
D <- - Pod : 204 No Content\n Content-Location: pod.kb.nl/dataset-desc.ttl

D -> Pod : PATCH /eventlog\nContent-Type: text/ldpatch\nAuthorization: <credentials>\n{ [timestamp] updated pod.kb.nl/dataset-desc.ttl }
D <- - Pod : 204 No Content\n Content-Location: pod.kb.nl/eventlog

== Inform orchestrator to execute policy ==

D -> O: POST /inbox\n{ LDN Dataset Updated "pod.kb.nl/dataset.ttl"\nwith description 'pod.kb.nl/dataset-desc.ttl' }
D <- - O: 201 Created\nLocation: orchestrator.kb.nl/inbox/3

autonumber stop
O <-[#0000FF]> O: Retrieve actions for 'Dataset Updated' event

autonumber resume
O -> R: POST /inbox\n{ LDN Update "pod.kb.nl/dataset.ttl"\nwith description 'pod.kb.nl/dataset-desc.ttl' }
O <- - R: 201 Created\nLocation: registry.nde.nl/inbox/1
O -> Pod : PATCH /eventlog\nContent-Type: text/ldpatch\nAuthorization: <credentials>\n{ [timestamp] Requested registration: pod.kb.nl/dataset.ttl with registry.nde.nl }
O <- - Pod : 204 No Content\n Content-Location: pod.kb.nl/eventlog

R -> Pod: GET /dataset-desc.ttl
R <- - Pod : 401 Unauthorized\nWWW-Authenticate: Basic realm="Access to Pod"
R -> Pod: GET /dataset-desc.ttl\nAuthorization: <registry_credentials>
R <- - Pod: 200 OK

autonumber stop
R -[#0000FF]> R: Re-index 'dataset-desc.ttl'

autonumber resume
R -> O: POST /inbox\n{ LDN Updated registry for "pod.kb.nl/dataset.ttl" }
R <- - O: 201 Created\nLocation: orchestrator.kb.nl/inbox/4

autonumber stop
R -[#0000FF]> R: Append eventlog:\n[timestamp] registry.nde.nl updated registration of pod.kb.nl/dataset.ttl

autonumber resume
O -> Pod : PATCH /eventlog\nContent-Type: text/ldpatch\nAuthorization: <credentials>\n{ [timestamp] registry.nde.nl updated registration of pod.kb.nl/dataset.ttl }
O <- - Pod : 204 No Content\n Content-Location: pod.kb.nl/eventlog

@enduml

PlantUML version 1.2021.00(Sun Jan 10 11:25:05 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: BE
--></g></svg>